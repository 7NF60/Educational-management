<!DOCTYPE HTML>
<!DOCTYPE html PUBLIC "">
<HTML lang="zh-CN" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="Copyright" content="zfsoft">
	<script src="js/jquery.min.js" type="text/javascript"></script>
	<!--Bootstrap布局框架-->
	<LINK href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<LINK href="css/error.css" rel="stylesheet" type="text/css">
	<LINK href="css/zftal-ui.css" rel="stylesheet" type="text/css">
    <link href="css/selectcourse.css" rel="stylesheet" type="text/css">
    <script src="js/bootstrap.min.js"></script>
    <!-- 网站引用Vue文件 -->
    <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
</head>
<BODY>
<header class="navbar-inverse top2">
	<div class="container" id="navbar_container">
		<div class="container">
			<div class="navbar-header">
				<button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
					<span class="sr-only">学生选课</span>
				</button>
				<A class="navbar-brand" id="topbutton" href="">学生选课</A>
			</div>
		</div>
	</div>
</header>
<!--头部 结束 -->
<div id="bodyContainer" style="margin: 0px; padding: 0px; width: 100%;">
	<div class="container container-func sl_all_bg" id="yhgnPage">
		<div class="panel panel-info">
			<div class="panel-heading">&nbsp;</div>
			<!--在下面开始写布局部分-->

            <!--第一部分：查询-->
			<form role="form" name="form1">
				<div class="form-group">
					<div class="input-group" style="position: relative; top: 8px;">
						<input type="text" class="form-control"  id="IDCard" name="IDCard" placeholder="请输入课程名称或课程号进行查询" style="position: relative;left: 20px" required v-model="input_search">
						<span class="input-group-btn">
                    <button class="btn btn-default" type="button" @click="search()" style="    position: relative;right: 29px;">查询</button>
                </span>
					</div>
				</div>
			</form>

			<!--第二部分-->
			<table id="selector">
				<tr>
					<th><label>学院:</label></th>
					<td>
						<label>
							所有
							<input type="radio" name="college" value="" checked="checked" v-model="input_college">
						</label>
						<label class="section" v-for="msg in msgs" v-cloak>
							{{msg.college}}
							<input type="radio" name="college" v-bind:value="msg.college" v-model="input_college"/>
						</label>
					</td>
				</tr>
				<tr>
					<th><label>剩余量:</label></th>
					<td>
						<label>
							所有
							<input type="radio" name="capacity" value="" checked="checked" v-model="input_capacity">
						</label>
						<label>
							有
							<input type="radio" name="capacity" value="1" v-model="input_capacity">
						</label>
						<label>
							无
							<input type="radio" name="capacity" value="2" v-model="input_capacity">
						</label>
					</td>
				</tr>
			</table>
			<!--第四部分-->
			<div class="container" style="width: -webkit-fill-available;">
				<div class="row clearfix">
					<div class="col-md-12 column">
						<div class="tabbable" id="tabs-217540">
							<ul class="nav nav-tabs">
								<li class="active">
									 <a href="#panel-first" data-toggle="tab">公共选修</a>
								</li>
								<li>
									 <a href="#panel-second" data-toggle="tab">专业选修</a>
								</li>
								<li>
									 <a href="#panel-third" data-toggle="tab">通识</a>
								</li>
							</ul>
							<div class="tab-content">
							<!-- 1公共选修 -->
								<div class="tab-pane active" id="panel-first">
									<!-- 如果存在记录 -->
									<div class="panel-group"  id="panel-1">
										<div v-if="msgs == null" style="width: 200px;margin: auto;">
											没有可用的选课记录
										</div>
										<div class="panel panel-default" v-for= "msg in msgs">
											<div class="panel-heading">
												 <a class="panel-title" data-toggle="collapse" data-parent="#panel-1" v-bind:href="'#panel-element-'+msg.cno">{{msg.cno}}-{{msg.cname}}-{{msg.college}} </a>
											</div>
											<div v-bind:id="'panel-element-'+msg.cno" class="panel-collapse collapse">
												<div class="panel-body">
													<div>{{msg.description}}</div>
													<div style="text-align: right;">
													<button type="button" v-bind:class="'btn btn-default btn-primary '+canbeselect(msg.capacity,1)" style="">选课</button>
														<button type="button" v-bind:class="'btn btn-default btn-danger '+ canbeselect(msg.capacity,2)">退选</button></div>
												</div>
											</div>
										</div>
									</div>
								</div>						
							<!-- 2专业选修 -->
								<div class="tab-pane" id="panel-second">
									<div class="tab-pane active" id="panel-second">
										<!-- 如果存在记录 -->
										<div class="panel-group"  id="panel-2">
											<div v-if="msgs == null" style="width: 200px;margin: auto;">
												没有可用的选课记录
											</div>
											<div class="panel panel-default" v-for= "msg in msgs" >
												<div class="panel-heading">
													 <a class="panel-title" data-toggle="collapse" data-parent="#panel-2" v-bind:href="'#panel-element-'+msg.cno">{{msg.cno}}-{{msg.cname}}-{{msg.college}} </a>
												</div>
												<div v-bind:id="'panel-element-'+msg.cno" class="panel-collapse collapse">
													<div class="panel-body">
														<div>{{msg.description}}</div>
														<div style="text-align: right;">
														<button type="button" v-bind:class="'btn btn-default btn-primary '+canbeselect(msg.capacity,1)" style="">选课</button>
														<button type="button" v-bind:class="'btn btn-default btn-danger '+ canbeselect(msg.capacity,2)">退选</button></div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							<!-- 3通识课 -->
								<div class="tab-pane" id="panel-third">
									<div class="tab-pane active" id="panel-third">
									<!-- 如果存在记录 -->
										<div class="panel-group"  id="panel-3">
											<div v-if="msgs == null" style="width: 200px;margin: auto;">
												没有可用的选课记录
											</div>
											<div class="panel panel-default" v-for= "msg in msgs" >
												<div class="panel-heading">
													 <a class="panel-title" data-toggle="collapse" data-parent="#panel-3" v-bind:href="'#panel-element-'+msg.cno">{{msg.cno}}-{{msg.cname}}-{{msg.college}} </a>
												</div>
												<div v-bind:id="'panel-element-'+msg.cno" class="panel-collapse collapse">
													<div class="panel-body">
														<div>{{msg.description}}</div>
														<div style="text-align: right;">
														<button type="button" v-bind:class="'btn btn-default btn-primary '+canbeselect(msg.capacity,1)" style="">选课</button>
														<button type="button" v-bind:class="'btn btn-default btn-danger '+ canbeselect(msg.capacity,2)">退选</button></div>													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
<!-- 			<div class="container">
				<div class="row clearfix">
					<div class="col-md-12 column">
						<div class="tabbable" id="tabs-644980" style="    position: relative;left: -9px;top: 15px;">
							<ul class="nav nav-tabs" style="position: relative;left: 15px;">
								<li>
									<a href="#panel-108995" data-toggle="tab">公共选修</a>
								</li>
								<li class="active">
									<a href="#panel-685737" data-toggle="tab">专业选修</a>
								</li>
								<li>
									<a href="#panel-108996" data-toggle="tab">通识课</a>
								</li>
							</ul>
							<div class="tab-content">
								<div class="tab-pane" id="panel-108995">
									<p>
									<div class="container">
										<div class="row clearfix">
											<div class="col-md-12 column">
												<div class="panel-group" id="panel-386402">
													<div class="panel panel-default">
														<div class="panel-heading">
															<a class="panel-title" data-toggle="collapse" data-parent="#panel-386402" href="#panel-element-748967">数据结构</a>
														</div>
														<div id="panel-element-748967" class="panel-collapse collapse in">
															<div class="panel-body">
																万静老师手把手教学<button type="submit" class="btn btn-default">选课</button>
															</div>
														</div>
													</div>
													<div class="panel panel-default">
														<div class="panel-heading">
															<a class="panel-title" data-toggle="collapse" data-parent="#panel-386402" href="#panel-element-159815">离散数学</a>
														</div>
														<div id="panel-element-159815" class="panel-collapse collapse">
															<div class="panel-body">
																领略尤枫老师独特魅力<button type="submit" class="btn btn-default">选课</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									</p>
								</div>
								<div class="tab-pane active" id="panel-685737">
									<p>
									<div class="container">
										<div class="row clearfix">
											<div class="col-md-12 column">
												<div class="panel-group" id="panel-571009">
													<div class="panel panel-default">
														<div class="panel-heading">
															<a class="panel-title" data-toggle="collapse" data-parent="#panel-571009" href="#panel-element-730441">第一门课</a>
														</div>
														<div id="panel-element-730441" class="panel-collapse collapse in">
															<div class="panel-body">
																一一一<button type="submit" class="btn btn-default">选课</button>
															</div>
														</div>
													</div>
													<div class="panel panel-default">
														<div class="panel-heading">
															<a class="panel-title" data-toggle="collapse" data-parent="#panel-571009" href="#panel-element-67565">第二门课</a>
														</div>
														<div id="panel-element-67565" class="panel-collapse collapse">
															<div class="panel-body">
																二二二<button type="submit" class="btn btn-default">选课</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									</p>
								</div>
								<div class="tab-pane active2" id="panel-108996">
									<p>
									<div class="container">
										<div class="row clearfix">
											<div class="col-md-12 column">
												<div class="panel-group" id="panel-571008">
													<div class="panel panel-default">
														<div class="panel-heading">
															<a class="panel-title" data-toggle="collapse" data-parent="#panel-108996" href="#panel-element-730442">西方文化入门</a>
														</div>
														<div id="panel-element-730442" class="panel-collapse collapse in">
															<div class="panel-body">
																感受西方文化<button type="submit" class="btn btn-default">选课</button>
															</div>
														</div>
													</div>
													<div class="panel panel-default">
														<div class="panel-heading">
															<a class="panel-title" data-toggle="collapse" data-parent="#panel-108996" href="#panel-element-675655">管理心理学</a>
														</div>
														<div id="panel-element-675655" class="panel-collapse collapse">
															<div class="panel-body">
																直达你的灵魂<button type="submit" class="btn btn-default">选课</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
 -->


			<!-- 右侧内容开始 -->
		<div class="outer" id="left-content">
			<div class="outer_left">
				<A class="glyphicon glyphicon-arrow-left btn-lg" href=""></A>
				<A class="outer_left_xkxx" href="javascript:;">
					<H5>选课信息</H5>
					<span>已选 <B id="yxkts" style="margin-bottom: 6px;">0</B></span>
				</A>
			</div>
			<div class="outer_right" id="wrapper">
				<div class="right_div" id="right_div" style="margin-top: 10px;">
					<div class="outer_xkxx_list">
						<H6>已选课程<span class="pull-right"></span></H6>
						<UL class="list-group" id="right_ul_xsxt" data-listidx="0"></UL>
					</div>
				</div>
				<tr th:each="course : ${allcourses}">
					<td>[[ ${course.cname} ]]</td>
					<td>[[ ${course.cno} ]]</td>
					<td>[[ ${course.tname} ]]</td>
					<td>[[ ${course.address} ]]</td>
					<div>[[ ${course.description} ]]</div>
				</tr>
				<!--这里写的是已选课的列表-->
			</div>
		</div>
		<script>
			$(".outer").animate({width:"40px"},1000);
			$(".outer_left").click(function() {
				if($(".outer").css("width")	==	"40px")
				{
					$(".outer").animate({width:"740px"},600);
					$(".outer_left .glyphicon").addClass("glyphicon-arrow-right");
				}
				else
				{
					$(".outer").animate({width:"40px"},600);
					$(".outer_left .glyphicon").removeClass("glyphicon-arrow-right");
				}
			});
		</script>
	</div>
</div>
</div>
<script type="text/javascript">
	var vm2 = new Vue({
		el:"#bodyContainer",
		data:{
			input_search:"",
			msgs:null,
			input_college:"",
			input_capacity:""
		},
		methods:{
			getdata:function(){
				
			},
			canbeselect:function(capacity,flag){
				if(flag == 1){
					if(capacity != 0)
						return '';
					else 
						return 'disabled';
				}
				else{
					//退选选项
					if(capacity == 0)
						return 'disabled';
					else 
						return '';
				}
			},
			search:function(){
				
			}
		},
		mounted:function(){
			this.$http.post("/filtercourse",{
				college:this.input_college,
				cno:"",
				cname:"",
				tname:"",
				capacity:this.input_capacity
			},
				{emulateJSON:true}).then(function (value) {
                console.log(value)
                this.msgs=value.body.data;

            },function (reason) {
                alert("请求出错");
            })
		}
	})
</script>
<div class="footer" id="footerID">
	<P>版权所有? Copyright 计科1601</P>
</div>
</BODY>
</HTML>