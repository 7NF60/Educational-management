<!DOCTYPE html>
<html lang="zh-CN">
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<!-- meta使用viewport以确保页面可自由缩放 -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
	<!-- 引入 jQuery Mobile 样式 -->
	<link rel="stylesheet" href="http://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.min.css">

	<!-- 引入 jQuery 库 -->
	<script src="http://apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>

	<!-- 引入 jQuery Mobile 库 -->
	<script src="http://apps.bdimg.com/libs/jquerymobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

	<style type="text/css">
		th {
		    border-bottom: 1px solid #d6d6d6;
		}

		tr:nth-child(even) {
		    background: #e9e9e9;
		}

		#btn-search{
			position: fixed;
			top: 16%;
			right: 2%;
			z-index: 2;
		}

		#btn-add{
			position: fixed;
			top: 22%;
			right: 2%;
			z-index: 2;
		}

		#pagebox{
			text-align: center;
		}

	</style>

	<title>排课子系统</title>
</head>
<body>
<div data-role="page" id="pageone">

  	<!-- 头部 -->
	<div data-role="header">
    	<!--<a href="#myPanel" class="ui-btn ui-shadow ui-corner-all ui-icon-bullets ui-btn-icon-notext">更多</a> -->
    	<div style="text:align:left;">
			<h1>课程查询</h1>
		</div>
  	</div>
  	
  	<!-- 主体 -->
  	<div data-role="main" class="ui-content">
  		<a href="#pagetwo" class="ui-btn ui-shadow ui-corner-all ui-icon-search ui-btn-icon-notext" id="btn-search">搜索</a>
  		
  		<table data-role="table" data-mode="columntoggle" class="ui-responsive" id="myTable">
      		<thead>
        		<tr>
			        <th data-priority="1">课程号</th>
			        <th data-priority="1">课程名</th>
					<th data-priority="1">教师名</th>
					<th data-priority="2">教师工号</th>
			        <th data-priority="2">教学地点</th>
			        <th data-priority="3">课程容量</th>
			        <th data-priority="4">上课时间</th>
					<th data-priority="5">专业年级</th>
        		</tr>
      		</thead>
      		<tbody>
		        
		        <tr v-for="(course,index) in course_search">
			        <td>
			        	<p>C S E 2 4 3 0 7 C</p>
			        </td>
			        <td>
			        	<p>java程序设计</p>
			    	</td>
					<td>
			        	<p>某某某</p>
			    	</td>
					<td>
			        	<p>2 0 0 0 0 1 4 2 7 0</p>
			    	</td>
			        <td>
			        	<p>A阶203</p>
			    	</td>
			        <td>
			        	<p>xxx</p>
			    	</td>
					<td>
						<p>11 - 13节</p>
					</td>
			        <td>
			        	<p>大二</p>
			        </td>
		        <tr>
			        
			        <td>
			        	<p>C S E 4 8 3 0 0 C</p>
			        </td>
			        <td>
			        	<p>软件工程</p>
			    	</td>
					<td>
			        	<p>呵呵呵</p>
			    	</td>
					<td>
			        	<p>2 0 0 0 0 1 4 2 8 0</p>
			    	</td>
			        <td>
			        	<p>A阶202</p>
			    	</td>
			        <td>
			        	<p>xxx</p>
			    	</td>
			        <td>
			        	<p>1 - 2节</p>
			        </td>
					<td>
						<p>大二</p>
					</td>
		        </tr>
				
				<tr>
					
					<td>
						<p>C S E 6 6 6 6 6 C</p>
					</td>
					<td>
						<p>C++程序设计</p>
					</td>
					<td>
			        	<p>呵呵呵</p>
			    	</td>
					<td>
			        	<p>2 0 0 0 0 1 4 2 8 0</p>
			    	</td>
					<td>
						<p>B阶303</p>
					</td>
					<td>
						<p>xxx</p>
					</td>
					<td>
						<p>6 - 8节</p>
					</td>
					<td>
						<p>大二</p>
					</td>
				</tr>
		        <!--<tr th:each="willCourse:$(getWillCourse)">
					<td th:text="${willCourse.year}"></td>
					<td th:text="${willCourse.semester}"></td>
					<td th:text="${willCourse.majorName}"></td>
					<td th:text="${willCourse.grade}"></td>
				</tr> -->
      		</tbody>
    	</table>
    
  	</div>

  	<!-- 底部 -->
  	<div data-role="footer">
    	<h1>版权所有</h1>
  	</div>

</div>

<div data-role="page" id="pagetwo">
	<div data-role="header">
		<div data-style="text:align:left;">
			<h1>课程查询</h1>
		</div>
	</div>
	
	<div role="main" class="ui-content">
	
        <div class="ui-field-contain">
            <label>教师姓名查询</label>
            <input type="text" name="text-basic" id="search_name" v-model="newCourse.teacherName" value="">
		</div>
        <div class="ui-field-contain">
            <label>教师工号查询</label>
            <input type="text" name="text-basic" id="search_no" v-model="newCourse.teacherNo" value="">
        </div>
        <div class="ui-field-contain">
            <label>教学地点查询</label>
            <input type="text" name="text-basic" id="search_cla" v-model="newCourse.site" value="">
        </div>
		<br>
        <input type="button" value="查询" id="search_submit"> 
        
    </div>
	
	<div data-role="footer">
		<h1>版权所有</h1>
	</div>

</div>
</body>

<script src="js/jquery-1.11.1.js"></script>
<script src="js/jquery.mobile-1.4.3.js"></script>

<script>

	//获取查询信息
    var getCourseList = function () {

        //数据校验
        if ($("#search_cla").val() || ($("#search_name").val() || $("#search_no").val())) 
		{

            var searchButton = $(this);
            
			//searchButton.button("option", "disabled", true);
            //$.mobile.loading("show");
			
            var _data = {};
            
            if ($("#search_name").val()) 
			{
                _data.TeacherName = $("#search_name").val();
            }
			else if($("search_no").val())
			{
				_data.TeacherNo = $("#search_no").val();
			}
			else
			{
				_data.ClassSite = $("search_cla").val();
			}
 
			window.location.href='file:///E:/%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9%20(4)/Scheduling.html';
			
			//$.mobile.loading("hide");
            //searchButton.button("option", "disabled", false);
              
        } else {
            alert("请输入教师姓名或教师工号或教学地点");
        }
    };
	
	//绑定事件
    var bindEvent = function () {
        
		$("#search_submit").on("click", getCourseList);
		
    };

    $(document).on("pageshow", "#pagetwo", function () {
        
        bindEvent();
    });
	
</script>
</html>

